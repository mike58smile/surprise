<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Michal's Smile</title>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <button id="langToggle" class="en">SK</button>
  <button id="soundBtn" aria-label="Play sound" style="margin-left:10px; font-size:1.2em;">🔊</button>
  <div class="container">
    <div class="smiley">(⁠人⁠ ⁠•͈⁠ᴗ⁠•͈⁠)</div>
    <div class="text"></div>
    <div class="ig"></div>
  </div>
  <audio id="audioEN" src="sounds/bestAudioEN.mp3"></audio>
  <audio id="audioSK" src="sounds/bestAudioSK.mp3"></audio>
  <script>
    const enText = `Hii,<br />
    my name is Michal...<br />
    if you received something, I just wanted to make you smile ,<br />
    ..<br />

    so I really hope I didn’t make your day worse <br />
    ...<br />

    if you're curious who I am, wanna text me 💬, meet me 🤝,<br />
    send me a cute picture 🐶, funny meme 😂, or propose to me 💍<br />
    ....`;

    const enIgText = `feel free to contact me on IG 📲<br />
    <a href="https://instagram.com/masimuso" target="_blank">@masimuso</a>`;

    const skText = `Ahoj,<br />
    moje meno je Michal... <br />
    ak si dostal/a niečo odo mňa, chcel som ti len vyčariť úsmev ,<br />
    ..<br />

    naozaj dúfam, že som ti deň nezhoršil <br />
    ...<br />

    ak si zvedavý/á kto som, chceš mi napísať 💬, stretnúť sa 🤝,<br />
    poslať mi cute fotku 🐶, vtipný meme 😂, alebo ma požiadať o ruku 💍<br />
    ...`;
    const skIgText = `môžeš ma kontaktovať na IG 📲<br />
    <a href="https://instagram.com/masimuso" target="_blank">@masimuso</a>`;

    const textDiv = document.querySelector('.text');
    const igDiv = document.querySelector('.ig');
    const btn = document.getElementById('langToggle');
    const soundBtn = document.getElementById('soundBtn');
    const audioEN = document.getElementById('audioEN');
    const audioSK = document.getElementById('audioSK');
    let lang = 'en';

    document.querySelector('.text').innerHTML = enText;
    document.querySelector('.ig').innerHTML = enIgText;

    btn.addEventListener('click', (e) => {
      e.preventDefault();

      // stop any playing audio when switching language
      audioEN.pause();
      audioEN.currentTime = 0;
      audioSK.pause();
      audioSK.currentTime = 0;

      if (lang === 'en') {
        textDiv.innerHTML = skText;
        igDiv.innerHTML = skIgText;
        btn.textContent = 'EN';
        btn.classList.replace('en','sk');
        lang = 'sk';
      } else {
        textDiv.innerHTML = enText;
        igDiv.innerHTML = enIgText;
        btn.textContent = 'SK';
        btn.classList.replace('sk','en');
        lang = 'en';
      }

      // Explicitné odstránenie focus na mobilných zariadeniach
      btn.blur();

      // Force reflow
      void btn.offsetWidth;
    });

    soundBtn.addEventListener('click', () => {
      if (lang === 'en') {
        if (audioEN.paused) {
          audioEN.currentTime = 0;
          audioEN.play();
        } else {
          audioEN.pause();
          audioEN.currentTime = 0;
        }
      } else {
        if (audioSK.paused) {
          audioSK.currentTime = 0;
          audioSK.play();
        } else {
          audioSK.pause();
          audioSK.currentTime = 0;
        }
      }
    });
  </script>

</body>

</html>